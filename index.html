<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>OOP in WordPress Themesk</title>

		<meta name="description" content="OOP in WordPress Themes">
		<meta name="author" content="Tom Forrer & Michael Sebel">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/moon.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section>
					<h3>OOP in WordPress Themes</h3>
					<h1>Like, really.</h1>
					<p>
						Created by <a href="http://twitter.com/tforrer">@tforrer</a> and <a href="http://twitter.com/msebel">@msebel</a>,
					</p>
          <p>
            Software engineers at <a href="http://www.blogwerk.com">Blogwerk</a>.
          </p>
				</section>

        <section>

          <section>
            <h2>Anatomy of a WordPress theme</h2>

            <ol>
							<li>Predefined template hierarchy</li>
							<li class="fragment">No defined structure for resources</li>
							<li class="fragment">No (real) container for business logic</li>
						</ol>

            <aside class="notes">
              Small intro on why we decided to talk about this. Describe the fundamental files of a theme, show the template hierarchy,
              show that it is very unflexible (template file paths),  messy (effectively two structures: template files + custom files on top)
              no separation of view logic and business logic, no common best practices...
            </aside>
          </section>

          <section>
            <h2>The template hierarchy</h2>

            <img src="images/wordpress-template-hierarchy1.png">
          </section>
				</section>

        <section>
          <section>
            <h2>Why bother?</h2>

            <ol>
              <li class="fragment">Fun fact: We're a WordPress agency. That's why.</li>
            </ol>

            <p class="fragment" style="margin-top:20px;">
              We have 150+ individual customer solutions based on WordPress. What we want (need!)
              is reusability, standards, clean object oriented core, file structures.
            </p>

            <aside class="notes">
              Who are we? ->Agency with individual customer solutions based on WordPress
              After the twentieth theme, we want (need!) reusability, standards, clean code...
              Show the structure of a organized theme (not WordPress-specific) with
              loader, theme bussiness logic, views, ressources, vendor libraries, tests
            </aside>
          </section>

          <section>
            <h2>An example</h2>

          </section>
				</section>

        <section>
          <section>
            <h2>Request lifecycle</h2>

            <aside class="notes">
              Show how WordPress executes a request and what role the theme code plays at
              different locations during the execution:
              plugins, theme, initalisation, query, template loader
            </aside>
          </section>
				</section>

        <section>
          <section>
            <h2>Theme object</h2>

            <aside class="notes">
              Explain the functions.php: PSR-0 class loader, object initalization, convenience
              methods: setup(), init(), assets(), admin(), adminAssets(), ...
            </aside>
          </section>
				</section>

        <section>
          <section>
            <h2>Views</h2>

            <aside class="notes">
              organize the view files in a meaningfull way: place them where you want,
              use existing view "templates" from the WordPress template hierarchy, define your
              own views (get_template_part). Show the clean code from a view with only view code
              (i.e. only the loop and html), access theme object from a private object context, ...
              Resolve the problem: "a bunch of files in the theme root"
            </aside>
          </section>
				</section>

        <section>
          <section>
            <h2>Resources</h2>

            <aside class="notes">
              organize your static/client resources separately: css, js, language files, images, ...
              separatation of concerns
            </aside>
          </section>
				</section>

        <section>
          <section>
            <h2>Good to go: basic theme</h2>

            <aside class="notes">
              Now you could use a twig loader and you wouldn't need to touch any PHP again
              (only write HTML with Twig, CSS and JS)
            </aside>
          </section>
				</section>

        <section>
          <section>
            <h2>Component-based theme extensions</h2>

            <aside class="notes">
              How to extend the theme with custom functionalities
              (where no suitable/satisfying plugins exist)
              discuss the component based approach, explain the advanteges of namespacing,
              OOP encapsulation, write clean code (small classes, that do one thing, but one thing well)
            </aside>
          </section>
				</section>

        <section>
          <section>
            <h2>Examples</h2>

            <aside class="notes">
              ENSI (with screenshots?): Technical Forum, Topics, Documents, Menus, Page Templates, ...
              ENSI-Rat: child theme
              StepChallenge: Application build on top of WordPress with all relevant application code in theme
            </aside>
          </section>
				</section>

        <section>
          <section>
            <h2>Outlook: Tests, dependencies</h2>

            <aside class="notes">
              Now that we have small, well-structured units of code: we can test them... ->behat, phpunit, selenium, ....
              WordPress Core dependencies should be wrapped, plugin/library dependencies should be available from a service container
            </aside>
          </section>
				</section>

        <section>
          <section>
            <h2>Check us out on Github</h2>

            <aside class="notes">
              yay. yes. is good.
            </aside>
          </section>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
